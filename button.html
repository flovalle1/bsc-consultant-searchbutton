<style>
    /* Floating Button */
    #fab {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: #1d4b73;
        color: white;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        font-weight: bold;
        z-index: 2147483647;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        transition: background-color 0.3s;
    }

    #fab:hover {
        background-color: #173a59;
    }

    /* Slide-out Panel */
    #expert-panel {
        position: fixed;
        top: 0;
        right: -100%;
        width: 33%;
        height: 100%;
        background-color: #204060;
        color: white;
        box-shadow: -2px 0 6px rgba(0, 0, 0, 0.3);
        transition: right 0.3s ease;
        z-index: 2147483646;
        padding: 20px;
        display: flex;
        flex-direction: column;
        visibility: hidden;
    }

    #expert-panel.open {
        right: 0;
        visibility: visible;
    }

    /* Header */
    #expert-panel h2 {
        margin: 0 0 10px;
        font-size: 1.4rem;
    }

    /* Search Input */
    #expert-search {
        display: flex;
        margin-bottom: 15px;
    }

    #expert-search input {
        flex: 1;
        padding: 8px;
        border: none;
        border-radius: 4px 0 0 4px;
    }

    #expert-search button {
        background: white;
        border: none;
        border-radius: 0 4px 4px 0;
        padding: 8px 12px;
        cursor: pointer;
    }

    /* Consultant List */
    .consultant {
        background: #173a59;
        border-radius: 8px;
        padding: 10px;
        display: flex;
        align-items: center;
        margin-bottom: 10px;
        cursor: pointer;
        transition: background 0.2s;
    }

    .consultant:hover {
        background: #102840;
    }

    .consultant img {
        width: 50px;
        height: 50px;
        border-radius: 8px;
        margin-right: 10px;
        object-fit: cover;
    }

    .consultant-info {
        display: flex;
        flex-direction: column;
    }

    .consultant-name {
        font-weight: bold;
    }

    .consultant-address {
        font-size: 0.9rem;
        opacity: 0.8;
    }
</style>

<div id="fab">üîç</div>

<div id="expert-panel">
    <h2>Finde einen Experten in deiner N√§he!</h2>
    <div id="expert-search">
        <input type="text" id="search-input" placeholder="Name, Stadt oder PLZ">
        <button>üîç</button>
    </div>
    <div id="consultant-list"></div>
</div>

<script>
    (function () {
        const consultants = [
            {
                name: "Wiesner, Finanzen + Versicherungen",
                address: "Im Stra√üfeld 30, 97769 Bad Br√ºckenau",
                image: "https://randomuser.me/api/portraits/men/32.jpg",
                link: "#"
            },
            {
                name: "J√ºrgen Friedlein",
                address: "Kronachallee 8, 96317 Kronach",
                image: "https://randomuser.me/api/portraits/men/45.jpg",
                link: "#"
            },
            {
                name: "R√ºdiger Knauf",
                address: "Musterstra√üe 1, 12345 Musterstadt",
                image: "https://randomuser.me/api/portraits/men/67.jpg",
                link: "#"
            },
            {
                name: "Sarah Mueller",
                address: "Hauptstra√üe 15, 80331 M√ºnchen",
                image: "https://randomuser.me/api/portraits/women/23.jpg",
                link: "#"
            },
            {
                name: "Michael Schmidt",
                address: "Berliner Allee 42, 40212 D√ºsseldorf",
                image: "https://randomuser.me/api/portraits/men/78.jpg",
                link: "#"
            },
            {
                name: "Anna Weber",
                address: "Marktplatz 7, 70173 Stuttgart",
                image: "https://randomuser.me/api/portraits/women/56.jpg",
                link: "#"
            }
        ];

        const fab = document.getElementById('fab');
        const panel = document.getElementById('expert-panel');
        const listContainer = document.getElementById('consultant-list');
        const searchInput = document.getElementById('search-input');

        function renderList(filter = "") {
            listContainer.innerHTML = "";
            const filteredConsultants = consultants
                .filter(c =>
                    c.name.toLowerCase().includes(filter.toLowerCase()) ||
                    c.address.toLowerCase().includes(filter.toLowerCase())
                );

            filteredConsultants.forEach(c => {
                const item = document.createElement('div');
                item.className = 'consultant';
                item.onclick = () => window.location.href = c.link;
                item.innerHTML = `
            <img src="${c.image}" alt="${c.name}">
            <div class="consultant-info">
              <div class="consultant-name">${c.name}</div>
              <div class="consultant-address">${c.address}</div>
            </div>
          `;
                listContainer.appendChild(item);
            });

            // Zeige eine Nachricht wenn keine Ergebnisse gefunden wurden
            if (filteredConsultants.length === 0 && filter) {
                const noResults = document.createElement('div');
                noResults.style.textAlign = 'center';
                noResults.style.padding = '20px';
                noResults.style.opacity = '0.7';
                noResults.textContent = 'Keine Berater gefunden.';
                listContainer.appendChild(noResults);
            }
        }

        fab.addEventListener('click', () => {
            panel.classList.toggle('open');
            renderList();
        });

        searchInput.addEventListener('input', (e) => {
            renderList(e.target.value);
        });
    })();
</script>